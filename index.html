<!doctype html>
<html lang="ko">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>내부품질 기한관리</title>

<style>
body{
  font-family:-apple-system;
  background:#111;
  color:#fff;
  padding:20px;
}
.card{
  background:#1c1c1c;
  padding:16px;
  border-radius:14px;
}
.row{
  display:flex;
  justify-content:space-between;
  margin:8px 0;
}
.dow-0{color:#ff4d4d}
.dow-1{color:#ff8c42}
.dow-2{color:#ffd43b}
.dow-3{color:#4cd964}
.dow-4{color:#4dabf7}
.dow-5{color:#364fc7}
.dow-6{color:#b197fc}
</style>
</head>

<body>

<h2>내부품질 기한관리</h2>

<div class="card">
<input type="date" id="date">
<div id="result"></div>
</div>

<script>
const WEEK=["일","월","화","수","목","금","토"];

function fmt(d){
  const y=d.getFullYear();
  const m=(d.getMonth()+1).toString().padStart(2,"0");
  const da=d.getDate().toString().padStart(2,"0");
  const w=d.getDay();
  return `${y}.${m}.${da} (<span class="dow-${w}">${WEEK[w]}</span>)`;
}

function addDays(base,n){
  const d=new Date(base);
  d.setDate(d.getDate()+n-1);
  return d;
}

function addMonth(base,m){
  const d=new Date(base);
  d.setMonth(d.getMonth()+m);
  d.setDate(d.getDate()-1);
  return d;
}

function render(base){
  const r=document.getElementById("result");
  r.innerHTML="";

  const list=[
    ["2일 뒤",addDays(base,2)],
    ["3일 뒤",addDays(base,3)],
    ["5일 뒤",addDays(base,5)],
    ["7일 뒤",addDays(base,7)],
    ["14일 뒤",addDays(base,14)],
    ["한달 뒤",addMonth(base,1)],
    ["3달 뒤",addMonth(base,2)] // ⭐ 여기 핵심 (2개월 + -1일 = 3달)
  ];

  list.forEach(v=>{
    r.innerHTML+=`<div class="row"><span>${v[0]}</span><span>${fmt(v[1])}</span></div>`;
  });
}

document.getElementById("date").addEventListener("change",e=>{
  const [y,m,d]=e.target.value.split("-");
  render(new Date(y,m-1,d));
});

const t=new Date();
document.getElementById("date").value=t.toISOString().split("T")[0];
render(t);
</script>

</body>
</html>
